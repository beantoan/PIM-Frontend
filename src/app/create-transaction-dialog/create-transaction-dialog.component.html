<h2 mat-dialog-title>Tạo giao dịch mới</h2>

<mat-dialog-content class="mat-typography">
  <form [formGroup]="transactionForm" class="mat-form">

    <mat-form-field>
      <input
        matInput
        type="text"
        placeholder="Mã cổ phiếu"
        formControlName="stock"
        aria-label="Number"
        [matAutocomplete]="autoStock"
        (click)="$event.target.select()"
        required />

      <mat-autocomplete autoActiveFirstOption="true"
                        #autoStock="matAutocomplete"
                        [displayWith]="displayStockOption">
        <mat-option *ngFor="let item of stocks | async" [value]="item">
          {{item.code}}-{{item.title}}
        </mat-option>
      </mat-autocomplete>

    </mat-form-field>

    <mat-form-field>
      <mat-select placeholder="Kiểu giao dịch" formControlName="type" required>
        <mat-option *ngFor="let item of transactionTypes | async" [value]="item.id">
          {{item.title}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="aui-group aui-group-split">
      <div class="aui-item">
        <mat-form-field>
          <input matInput
                 type="number"
                 formControlName="quantity"
                 (click)="$event.target.select()"
                 required
                 placeholder="Khối lượng" />
        </mat-form-field>
      </div>

      <div class="aui-item">
        <mat-form-field>
          <input matInput
                 type="number"
                 formControlName="price"
                 (click)="$event.target.select()"
                 required
                 placeholder="Giá" />

          <span matSuffix>x1000</span>
        </mat-form-field>
      </div>
    </div>

    <mat-form-field>
      <input
        matInput
        formControlName="transactedOn"
        [matDatepicker]="transactedOnDatepicker"
        required
        placeholder="Ngày giao dịch" />

      <mat-datepicker-toggle matSuffix [for]="transactedOnDatepicker"></mat-datepicker-toggle>
      <mat-datepicker #transactedOnDatepicker></mat-datepicker>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Đóng</button>
  <button mat-raised-button color="primary" (click)="onClickSaveTransaction()">Lưu giao dịch</button>
</mat-dialog-actions>
